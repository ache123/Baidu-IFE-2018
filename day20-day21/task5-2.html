<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
<button id="fade-btn">淡出</button>
<script>
    const obj = document.getElementById("fade-obj");
    const btn = document.getElementById("fade-btn");
    let timeoutId = null;


    btn.onclick = function () {
        if (btn.textContent == "淡出") {
            number = 1;
            btn.disabled = "disabled";
            timeoutId = setInterval(function () {      //setInterval第一个参数是变量而是函数，需要用function包裹起来
                fadeThisBtn(number -= 0.01);
            }, 10);
        }
        if (btn.textContent == "淡入") {
            number = 0;
            btn.disabled = "disabled";
            timeoutId = setInterval(function () {      //setInterval第一个参数是变量而是函数，需要用function包裹起来
                bloomThisBtn(number += 0.01);
            }, 10);
        }


    }


    function fadeThisBtn(number) {
        obj.style.opacity = number;
        console.log(number);
        if (number <= 0) {
            clearInterval(timeoutId);
            btn.textContent = "淡入";
            btn.disabled = false;
        }
    }

    function bloomThisBtn(number) {
        obj.style.opacity = number;
        console.log(number);
        if (number >= 1) {
            clearInterval(timeoutId);
            btn.textContent = "淡出";
            btn.disabled = false;
        }
    }
</script>